# Interview_Task_Unity3d
Это тестовое задание в Banzai.Games


Пояснение:

Для выполнения всех требований я составил себе следующие задачи:
1) Свести к минимуму количество синглтонов и сделать обмен между менеджерами как-то по другому
2) Отказаться от огромного количества Update'ов MonoBehaviour'а
3) Реализовать Object Pool
4) Разнообразие танков, оружия и врагов реализовать через ScriptableObject
5) Отказаться от большого количества скриптов в иерархии сцены, а выполнять создание объектов из одного места
6) Постараться максимально следовать SOLID

Таким образом, в проекте используется один единственный синглтон у класса ManagerContainer. Собственно, это контейнер для всех остальных менеджеров. 

Запуск игры происходит через Bootstrap, который регистрирует все добавленные менеджеры и начинает их работу.

Все менеджеры - это ScriptableObject. Обмен между менеджерами происходит с помощью внешних переменных и событий, которые в свою очередь тоже являются ScriptableObject.

UpdateManager выполняет все методы жизненного цикла MonoBehaviour и вызывает методы интерфейсов у всех других менеджеров.

SpawnManager выполняет создание танка и врагов с помощью object pool. Он же кэширует ссылки на них, поэтому в некоторых местах встречаются обращения к данному менеджеру (а это косяк).

Управление танком я решил попробовать сделать с помощью State Machine. Таким образом можно масштабировать возможности игрока. Хотя возможных действий достаточно конкретно в этом задании мало, то наверное машина состояний тут лишняя.

Перемещение противников сделано с помощью NavMeshAgent.

Недочеты:
1) В некоторых менеджерах и классах встречаются обращения к SpawnManager, т.к. он кэширует созданные объекты. Под конец я спешил, поэтому адекватное решение не придумал.
2) Некоторые классы скорее всего излишне обращаются к внешним переменным и событиям.
3) Обмен событиями тоже был сделан в спешке, поэтому получилось немного костыльно. Хотелось бы реализовать адекватную передачу параметров в событиях, но не успел.
4) По хорошему надо вынести управление UI в отдельный менеджер, но т.к. его на данном этапе мало, то шкалу здоровья реализовал через monobehaviour с лишним update'ом.
5) Переход между состояниями перемещение-вращение сделан с небольшой задержкой. Не критично, но не нравится.
6) Я думаю, во многих местах не хватает проверки на NullReference. Косячно, но ошибок вроде нет.
Было бы неплохо вынести константные переменные в конфиг, но времени на это не хватило.
7) Хотел понтануться и написать юнит-тесты, но опять же не успел
